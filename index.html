<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You're Invited - Ira & Angel's Wedding</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500&family=Montserrat:wght@200;300;400;500;600&family=Great+Vibes&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage-50: #f8faf8;
            --sage-100: #e8ede8;
            --sage-200: #d4ddd4;
            --sage-300: #a8bd9f;
            --sage-400: #395711;
            --sage-500: #395711;
            --sage-600: #2d4509;
            --sage-dark: #1f2f06;
            --sage-lively-400: #4a6e15;
            --sage-lively-500: #395711;
            --sage-lively-600: #2d4509;
            --rose-50: #fdf8f9;
            --rose-100: #fce7ec;
            --rose-200: #fad4dc;
            --rose-300: #f5b5c3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        body {
            font-family: 'Crimson Text', serif;
            background: 
                radial-gradient(circle at 10% 20%, rgba(134, 164, 137, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(168, 189, 159, 0.05) 0%, transparent 50%),
                linear-gradient(to bottom, #f8faf8 0%, #f3f6f3 100%);
            background-attachment: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* Elegant background pattern */
        .background-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.06;
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(107, 142, 111, 0.1) 35px, rgba(107, 142, 111, 0.1) 70px);
            pointer-events: none;
        }

        /* Floating floral elements */
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .floral-accent {
            position: absolute;
            opacity: 0.06;
            animation: float 20s ease-in-out infinite;
        }

        .floral-accent-1 {
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .floral-accent-2 {
            bottom: 15%;
            right: 8%;
            animation-delay: 5s;
        }

        .floral-accent-3 {
            top: 50%;
            right: 15%;
            animation-delay: 10s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }

        .envelope-container {
            position: relative;
            cursor: pointer;
            perspective: 1200px;
            z-index: 10;
        }

        .envelope-container:hover .envelope {
            transform: translateY(-12px);
            box-shadow: 0 30px 80px rgba(95, 166, 101, 0.25);
        }

        .envelope-container.opening {
            cursor: default;
            pointer-events: none;
        }

        /* Envelope */
        .envelope {
            width: 380px;
            height: 250px;
            position: relative;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 15px 50px rgba(107, 142, 111, 0.15);
        }

        .envelope-back {
            width: 100%;
            height: 100%;
            background: #8b9a75;
            border-radius: 4px;
            position: relative;
            overflow: visible;
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* Dried flowers decoration */
        .dried-flowers {
            position: absolute;
            bottom: -20px;
            right: -10px;
            width: 110px;
            height: 140px;
            z-index: 5;
            opacity: 0.9;
            transform: rotate(30deg);
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 190px solid transparent;
            border-right: 190px solid transparent;
            border-top: 125px solid #7a8a68;
            transform-origin: top center;
            transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 3;
        }

        .envelope-container.opening .envelope-flap {
            transform: rotateX(180deg) translateZ(0);
        }

        /* White wax seal */
        .wax-seal {
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: transparent;
            border-radius: 50%;
            z-index: 4;
            transition: all 0.6s ease;
            animation: sealPulse 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes sealPulse {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.08);
            }
        }

        .envelope-container.opening .wax-seal {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0);
            animation: none;
        }

        .instruction {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--sage-dark);
            font-size: 16px;
            font-weight: 400;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
            animation: pulse 2.5s ease-in-out infinite;
            opacity: 1;
            transition: opacity 0.5s ease;
            letter-spacing: 1px;
            font-family: 'Cormorant Garamond', serif;
        }

        .envelope-container.opening ~ .instruction {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            50% {
                opacity: 0.6;
                transform: translateX(-50%) translateY(-4px);
            }
        }

        /* Confetti animation */
        .confetti {
            position: fixed;
            pointer-events: none;
        }

        .confetti.burst-up {
            animation: confettiBurstUp 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-down {
            animation: confettiBurstDown 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-left {
            animation: confettiBurstLeft 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-right {
            animation: confettiBurstRight 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-diagonal-tl {
            animation: confettiBurstDiagonalTL 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-diagonal-tr {
            animation: confettiBurstDiagonalTR 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-diagonal-bl {
            animation: confettiBurstDiagonalBL 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .confetti.burst-diagonal-br {
            animation: confettiBurstDiagonalBR 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes confettiBurstUp {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), -600px) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstDown {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), 600px) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstLeft {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-600px, var(--ty)) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstRight {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(600px, var(--ty)) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstDiagonalTL {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-500px, -500px) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstDiagonalTR {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(500px, -500px) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstDiagonalBL {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-500px, 500px) rotate(var(--rotation)) scale(0.3);
            }
        }

        @keyframes confettiBurstDiagonalBR {
            0% {
                opacity: 1;
                transform: translate(0, 0) rotate(0deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(500px, 500px) rotate(var(--rotation)) scale(0.3);
            }
        }

        /* Transition overlay */
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(134, 164, 137, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(168, 189, 159, 0.05) 0%, transparent 50%),
                linear-gradient(to bottom, #f8faf8 0%, #f3f6f3 100%);
            z-index: 200;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .transition-overlay.fade-in {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .envelope {
                width: 320px;
                height: 210px;
            }

            .envelope-flap {
                border-left: 160px solid transparent;
                border-right: 160px solid transparent;
                border-top: 105px solid #8b9a75;
            }

            .envelope-flap::before {
                top: -103px;
                left: -158px;
                width: 316px;
                height: 101px;
            }

            .wax-seal {
                width: 60px;
                height: 60px;
            }

            .wax-seal::before {
                width: 45px;
                height: 45px;
            }

            .dried-flowers {
                width: 60px;
                height: 80px;
                bottom: -10px;
                right: 15px;
            }

            .instruction {
                font-size: 14px;
                bottom: 35px;
            }
        }
    </style>
</head>
<body>
    <!-- Background pattern -->
    <div class="background-pattern"></div>

    <!-- Floating decorative elements -->
    <div class="floating-elements">
        <!-- Daisy flowers floating -->
        <svg class="floral-accent floral-accent-1" width="150" height="150" viewBox="0 0 24 24">
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(0 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(30 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(60 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(90 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(120 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(150 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(180 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(210 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(240 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(270 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(300 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(330 12 12)"/>
            <circle cx="12" cy="12" r="2.5" fill="#fbbf24"/>
        </svg>
        <svg class="floral-accent floral-accent-2" width="150" height="150" viewBox="0 0 24 24">
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(0 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(30 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(60 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(90 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(120 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(150 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(180 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(210 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(240 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(270 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(300 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(330 12 12)"/>
            <circle cx="12" cy="12" r="2.5" fill="#fbbf24"/>
        </svg>
        <svg class="floral-accent floral-accent-3" width="120" height="120" viewBox="0 0 24 24">
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(0 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(45 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(90 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(135 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(180 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(225 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(270 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="#fda4af" transform="rotate(315 12 12)"/>
            <circle cx="12" cy="12" r="2.5" fill="#fbbf24"/>
        </svg>
    </div>

    <!-- Envelope -->
    <div class="envelope-container" id="envelopeContainer">
        <div class="envelope">
            <div class="envelope-back">
                <!-- Dried flowers decoration -->
                <svg class="dried-flowers" viewBox="0 0 80 100" fill="none">
                    <!-- Calla lily stems (2 flowers) -->
                    <path d="M35 100 L35 25" stroke="#6b7a5a" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                    <path d="M50 100 L50 30" stroke="#6b7a5a" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                    
                    <!-- Left calla lily flower (detailed trumpet shape) -->
                    <!-- Outer petal -->
                    <path d="M35 25 Q28 24 24 18 Q22 14 22 10 Q22 6 25 4 Q28 2 32 4 Q35 6 36 10 Q37 14 36 18 Q35.5 21 35 25 Z" 
                          fill="#ffffff" stroke="#e0e0e0" stroke-width="0.8" opacity="0.98"/>
                    <!-- Inner shadow for depth -->
                    <path d="M35 25 Q32 22 30 18 Q29 14 30 10 Q31 8 33 7" 
                          fill="none" stroke="#f0f0f0" stroke-width="1.5" opacity="0.6"/>
                    <!-- Spadix (yellow center) -->
                    <ellipse cx="32" cy="14" rx="1.8" ry="5" fill="#fef3c7" opacity="0.95" transform="rotate(-10 32 14)"/>
                    <ellipse cx="32.5" cy="14" rx="1" ry="4" fill="#fde68a" opacity="0.8" transform="rotate(-10 32.5 14)"/>
                    
                    <!-- Right calla lily flower (detailed trumpet shape) -->
                    <!-- Outer petal -->
                    <path d="M50 30 Q43 29 39 23 Q37 19 37 15 Q37 11 40 9 Q43 7 47 9 Q50 11 51 15 Q52 19 51 23 Q50.5 26 50 30 Z" 
                          fill="#ffffff" stroke="#e0e0e0" stroke-width="0.8" opacity="0.98"/>
                    <!-- Inner shadow for depth -->
                    <path d="M50 30 Q47 27 45 23 Q44 19 45 15 Q46 13 48 12" 
                          fill="none" stroke="#f0f0f0" stroke-width="1.5" opacity="0.6"/>
                    <!-- Spadix (yellow center) -->
                    <ellipse cx="47" cy="19" rx="1.8" ry="5" fill="#fef3c7" opacity="0.95" transform="rotate(-10 47 19)"/>
                    <ellipse cx="47.5" cy="19" rx="1" ry="4" fill="#fde68a" opacity="0.8" transform="rotate(-10 47.5 19)"/>
                    
                    <!-- Detailed leaves -->
                    <path d="M35 55 Q28 54 25 50 Q24 48 25 46 Q26 44 28 44 Q32 45 35 48 Z" 
                          fill="#7a8a68" opacity="0.85" stroke="#6b7a5a" stroke-width="0.5"/>
                    <path d="M50 65 Q43 64 40 60 Q39 58 40 56 Q41 54 43 54 Q47 55 50 58 Z" 
                          fill="#7a8a68" opacity="0.85" stroke="#6b7a5a" stroke-width="0.5"/>
                    <path d="M35 75 Q30 74 28 71 Q27 69 28 67 Q29 66 31 66 Q34 67 35 70 Z" 
                          fill="#8b9a75" opacity="0.8" stroke="#7a8a68" stroke-width="0.5"/>
                </svg>
            </div>
            <div class="envelope-flap"></div>
            <div class="wax-seal">
                <!-- White sunflower with pink center -->
                <svg viewBox="0 0 80 80" width="60" height="60">
                    <!-- Sunflower petals (white) -->
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(0 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(30 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(60 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(90 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(120 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(150 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(180 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(210 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(240 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(270 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(300 40 40)"/>
                    <ellipse cx="40" cy="15" rx="6" ry="15" fill="#ffffff" transform="rotate(330 40 40)"/>
                    <!-- Pink center -->
                    <circle cx="40" cy="40" r="10" fill="#fda4af"/>
                </svg>
            </div>
        </div>
    </div>

    <div class="instruction">Click to open your invitation</div>

    <!-- Transition overlay -->
    <div id="transitionOverlay" class="transition-overlay"></div>

    <script>
        // Daisy SVG for confetti
        const daisySVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(0 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(45 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(90 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(135 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(180 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(225 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(270 12 12)"/>
            <ellipse cx="12" cy="6" rx="1.5" ry="4" fill="currentColor" transform="rotate(315 12 12)"/>
            <circle cx="12" cy="12" r="2.5" fill="#fbbf24"/>
        </svg>`;

        // Leaf SVG for confetti
        const leafSVG = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 2C12 2 6 8 6 14C6 17.31 8.69 20 12 20C15.31 20 18 17.31 18 14C18 8 12 2 12 2Z" 
                  fill="currentColor" stroke="currentColor" stroke-width="1"/>
        </svg>`;

        // Create confetti
        function createConfetti() {
            const confettiTypes = [
                { svg: daisySVG, color: '#f5b5c3' },
                { svg: daisySVG, color: '#a8bd9f' },
                { svg: leafSVG, color: '#395711' },
                { svg: leafSVG, color: '#395711' },
                { svg: daisySVG, color: '#4a6e15' },
                { svg: leafSVG, color: '#395711' }
            ];

            const directions = [
                'burst-up', 
                'burst-down', 
                'burst-left', 
                'burst-right', 
                'burst-diagonal-tl', 
                'burst-diagonal-tr', 
                'burst-diagonal-bl', 
                'burst-diagonal-br'
            ];

            // Create 100 confetti pieces for explosive effect
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                const type = confettiTypes[Math.floor(Math.random() * confettiTypes.length)];
                const direction = directions[Math.floor(Math.random() * directions.length)];
                
                confetti.innerHTML = type.svg;
                confetti.classList.add(direction);
                confetti.style.left = '50%';
                confetti.style.top = '50%';
                confetti.style.color = type.color;
                
                // Wider random variations for more explosive spread
                if (direction.includes('up') || direction.includes('down')) {
                    confetti.style.setProperty('--tx', (Math.random() - 0.5) * 400 + 'px');
                } else if (direction.includes('left') || direction.includes('right')) {
                    confetti.style.setProperty('--ty', (Math.random() - 0.5) * 400 + 'px');
                }
                
                // More rotation for dramatic effect
                confetti.style.setProperty('--rotation', (Math.random() * 1080 - 540) + 'deg');
                confetti.style.opacity = Math.random() * 0.9 + 0.1;
                confetti.style.animationDelay = Math.random() * 0.1 + 's';
                
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 1700);
            }
        }

        // Envelope click handler
        const envelopeContainer = document.getElementById('envelopeContainer');
        envelopeContainer.addEventListener('click', function() {
            if (!this.classList.contains('opening')) {
                this.classList.add('opening');
                createConfetti();
                
                // Smooth transition to main page
                setTimeout(() => {
                    const overlay = document.getElementById('transitionOverlay');
                    overlay.classList.add('fade-in');
                    
                    setTimeout(() => {
                        window.location.href = 'main.html';
                    }, 300);
                }, 200);
            }
        });
    </script>
</body>
</html>
